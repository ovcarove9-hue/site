# Generated by Django 4.2 on 2025-12-17 10:43

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Location',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='Название')),
                ('location_type', models.CharField(choices=[('sport_complex', 'Спорткомплекс'), ('stadium', 'Стадион'), ('park', 'Парк'), ('beach', 'Пляж'), ('school', 'Школа/ВУЗ'), ('other', 'Другое')], default='sport_complex', max_length=20, verbose_name='Тип')),
                ('description', models.TextField(blank=True, verbose_name='Описание')),
                ('address', models.CharField(max_length=300, verbose_name='Адрес')),
                ('city', models.CharField(max_length=100, verbose_name='Город')),
                ('phone', models.CharField(blank=True, max_length=20, verbose_name='Телефон')),
                ('website', models.URLField(blank=True, verbose_name='Сайт')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='Email')),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Широта')),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True, verbose_name='Долгота')),
                ('has_parking', models.BooleanField(default=False, verbose_name='Есть парковка')),
                ('has_locker_rooms', models.BooleanField(default=False, verbose_name='Есть раздевалки')),
                ('has_showers', models.BooleanField(default=False, verbose_name='Есть душ')),
                ('has_cafe', models.BooleanField(default=False, verbose_name='Есть кафе')),
                ('is_lighted', models.BooleanField(default=False, verbose_name='Есть освещение')),
                ('opening_time', models.TimeField(default='08:00', verbose_name='Время открытия')),
                ('closing_time', models.TimeField(default='22:00', verbose_name='Время закрытия')),
                ('is_active', models.BooleanField(default=True, verbose_name='Активен')),
                ('rating', models.DecimalField(decimal_places=1, default=0, max_digits=3, verbose_name='Рейтинг')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Дата добавления')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Дата обновления')),
                ('added_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='added_locations', to=settings.AUTH_USER_MODEL, verbose_name='Добавил')),
            ],
            options={
                'verbose_name': 'Локация',
                'verbose_name_plural': 'Локации',
                'ordering': ['city', 'name'],
            },
        ),
        migrations.CreateModel(
            name='VolleyballCourt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='Название')),
                ('description', models.TextField(blank=True, verbose_name='Описание')),
                ('address', models.CharField(blank=True, max_length=300, verbose_name='Адрес')),
                ('city', models.CharField(max_length=100, verbose_name='Город')),
                ('court_type', models.CharField(choices=[('indoor', 'Крытая'), ('outdoor', 'Открытая'), ('beach', 'Пляжная')], max_length=20, verbose_name='Тип площадки')),
                ('surface', models.CharField(choices=[('wood', 'Дерево'), ('parquet', 'Паркет'), ('synthetic', 'Синтетика'), ('asphalt', 'Асфальт'), ('sand', 'Песок'), ('grass', 'Трава')], max_length=20, verbose_name='Покрытие')),
                ('courts_count', models.PositiveIntegerField(default=1, verbose_name='Количество площадок')),
                ('length', models.DecimalField(decimal_places=1, default=18.0, max_digits=4, verbose_name='Длина (м)')),
                ('width', models.DecimalField(decimal_places=1, default=9.0, max_digits=4, verbose_name='Ширина (м)')),
                ('net_height', models.DecimalField(decimal_places=2, default=2.43, max_digits=3, verbose_name='Высота сетки (м)')),
                ('is_free', models.BooleanField(default=False, verbose_name='Бесплатная')),
                ('is_lighted', models.BooleanField(default=False, verbose_name='Есть освещение')),
                ('has_showers', models.BooleanField(default=False, verbose_name='Есть душ')),
                ('has_locker_rooms', models.BooleanField(default=False, verbose_name='Есть раздевалки')),
                ('has_equipment_rental', models.BooleanField(default=False, verbose_name='Аренда инвентаря')),
                ('has_bleachers', models.BooleanField(default=False, verbose_name='Есть трибуны')),
                ('price_per_hour', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Цена за час (руб)')),
                ('status', models.CharField(choices=[('pending', 'На рассмотрении'), ('approved', 'Одобрена'), ('rejected', 'Отклонена'), ('archived', 'Архивирована')], default='pending', max_length=20, verbose_name='Статус')),
                ('is_verified', models.BooleanField(default=False, verbose_name='Проверена')),
                ('rating', models.DecimalField(decimal_places=1, default=0, max_digits=3, verbose_name='Рейтинг')),
                ('opening_time', models.TimeField(default='08:00', verbose_name='Время открытия')),
                ('closing_time', models.TimeField(default='22:00', verbose_name='Время закрытия')),
                ('tags', models.CharField(blank=True, help_text='Через запятую', max_length=300, verbose_name='Теги')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Дата создания')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Дата обновления')),
                ('location', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='volleyball_courts', to='myapp.location', verbose_name='Локация')),
                ('suggested_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='suggested_courts', to=settings.AUTH_USER_MODEL, verbose_name='Предложил')),
            ],
            options={
                'verbose_name': 'Волейбольная площадка',
                'verbose_name_plural': 'Волейбольные площадки',
                'ordering': ['-rating', 'name'],
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bio', models.TextField(blank=True, verbose_name='О себе')),
                ('city', models.CharField(blank=True, max_length=100, verbose_name='Город')),
                ('age', models.PositiveIntegerField(blank=True, null=True, verbose_name='Возраст')),
                ('position', models.CharField(blank=True, choices=[('setter', 'Связующий'), ('outside', 'Доигровщик'), ('opposite', 'Диагональный'), ('middle', 'Центральный блокирующий'), ('libero', 'Либеро')], max_length=20, verbose_name='Основная позиция')),
                ('positions', models.CharField(blank=True, help_text='Укажите через запятую (например: доигровщик, либеро)', max_length=100, verbose_name='Все позиции')),
                ('skill_level', models.CharField(choices=[('beginner', 'Начинающий'), ('intermediate', 'Любитель'), ('advanced', 'Продвинутый'), ('professional', 'Профессионал')], default='intermediate', max_length=20, verbose_name='Уровень игры')),
                ('playing_years', models.PositiveIntegerField(default=0, verbose_name='Стаж игры (лет)')),
                ('height', models.PositiveIntegerField(blank=True, null=True, verbose_name='Рост (см)')),
                ('jump_reach', models.PositiveIntegerField(blank=True, null=True, verbose_name='Высота прыжка (см)')),
                ('play_style', models.CharField(blank=True, help_text='Например: атакующий, тактический, защитный', max_length=50, verbose_name='Стиль игры')),
                ('preferred_venue', models.CharField(blank=True, max_length=200, verbose_name='Предпочитаемая площадка')),
                ('play_days', models.CharField(blank=True, help_text='Например: вечера будних, выходные', max_length=100, verbose_name='Дни для игр')),
                ('telegram', models.CharField(blank=True, max_length=100, verbose_name='Telegram')),
                ('vk', models.CharField(blank=True, max_length=100, verbose_name='ВКонтакте')),
                ('whatsapp', models.CharField(blank=True, max_length=100, verbose_name='WhatsApp')),
                ('avatar', models.ImageField(blank=True, upload_to='avatars/', verbose_name='Аватар')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Дата регистрации')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Профиль волейболиста',
                'verbose_name_plural': 'Профили волейболистов',
            },
        ),
        migrations.CreateModel(
            name='Game',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Название игры')),
                ('game_type', models.CharField(choices=[('training', 'Тренировка'), ('game', 'Свободная игра'), ('tournament', 'Турнир'), ('match', 'Товарищеский матч'), ('sparring', 'Спарринг')], default='game', max_length=20, verbose_name='Тип')),
                ('description', models.TextField(blank=True, verbose_name='Описание')),
                ('date', models.DateField(verbose_name='Дата игры')),
                ('start_time', models.TimeField(verbose_name='Время начала')),
                ('end_time', models.TimeField(verbose_name='Время окончания')),
                ('duration', models.DecimalField(decimal_places=1, default=2.0, max_digits=3, verbose_name='Продолжительность (часы)')),
                ('location_text', models.CharField(blank=True, max_length=300, verbose_name='Место проведения')),
                ('max_players', models.PositiveIntegerField(default=12, verbose_name='Максимум игроков')),
                ('min_skill_level', models.CharField(choices=[('any', 'Любой'), ('beginner', 'Начинающий'), ('intermediate', 'Любитель'), ('advanced', 'Продвинутый'), ('professional', 'Профессионал')], default='any', max_length=20, verbose_name='Минимальный уровень')),
                ('game_format', models.CharField(default='6v6', max_length=20, verbose_name='Формат')),
                ('price_type', models.CharField(choices=[('free', 'Бесплатно'), ('split', 'Сбор'), ('fixed', 'Фиксированная')], default='free', max_length=20, verbose_name='Тип оплаты')),
                ('price_per_player', models.DecimalField(decimal_places=2, default=0, max_digits=8, verbose_name='Стоимость с игрока')),
                ('status', models.CharField(choices=[('active', 'Активна'), ('full', 'Заполнена'), ('cancelled', 'Отменена'), ('completed', 'Завершена')], default='active', max_length=20, verbose_name='Статус')),
                ('is_public', models.BooleanField(default=True, verbose_name='Публичная игра')),
                ('requirements', models.TextField(blank=True, verbose_name='Требования к игрокам')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Дата создания')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Дата обновления')),
                ('court', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='games', to='myapp.volleyballcourt', verbose_name='Площадка')),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='organized_games', to=settings.AUTH_USER_MODEL, verbose_name='Организатор')),
                ('participants', models.ManyToManyField(blank=True, related_name='participating_games', to=settings.AUTH_USER_MODEL, verbose_name='Участники')),
            ],
            options={
                'verbose_name': 'Игра',
                'verbose_name_plural': 'Игры',
                'ordering': ['date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='Friendship',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('pending', 'Ожидает подтверждения'), ('accepted', 'Принято'), ('rejected', 'Отклонено')], default='pending', max_length=20)),
                ('court_partner', models.BooleanField(default=False, verbose_name='Партнёр по площадке')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('from_user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='friendships_sent', to=settings.AUTH_USER_MODEL)),
                ('to_user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='friendships_received', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Волейбольное знакомство',
                'verbose_name_plural': 'Волейбольные знакомства',
                'unique_together': {('from_user', 'to_user')},
            },
        ),
    ]
